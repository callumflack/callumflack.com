/* ==========================================================================
   Layout
   ========================================================================== */

/*
 * Set box model
 */

*, *:after, *:before { @include box-sizing(border-box); }


/* Navigation
   ========================================================================== */

nav {
	position: absolute;
	z-index: 1977;
    width: 100%;
    height: em(50);
	text-align: center;
    border-bottom: 1px solid $cRule;

	.left  { float: left; }
	.right { float: right; }
}

nav a {
	@include inline-block;
	padding: em(18) 0 0 0; //(50-13)/2
	margin: 0; //reset h2 margins
	height: em(50,14);
	@extend h2;
	color: $cText;

	h1 { @extend h2; }

	&.left  { padding-left:  em(21); }
	&.right { padding-right: em(21); }

	&:hover {
		border-bottom: 5px solid $cLink;
		@include transition(border 0.3s ease);
		h1 {
            color: $cLink;
            @include transition(color 0.3s ease);
        }
	}
}

/**
 * reversed out navs
 */

.blog-list nav,
.blog-article nav,
.work-project nav {
    position: relative;
    margin-bottom: em(126) - em(40); //50
}

/**
 * reversed out navs text color
 */

%nav-text-reverse {
    a, a:hover h1 {
        color: $cBack;
        border-color: $cBack;
    }
}

nav.color-reverse {
	border-color: $cBack;
	border-color: rgba($cBack,0.5);
    @extend %nav-text-reverse;
}

nav.color-negative {
	border-color: $cText;
	background-color: $cText;
	background-color: rgba(black,0.7);
    @extend %nav-text-reverse;
}



/* Scaffolding
   ========================================================================== */

article { width: 100%; }

/**
 * Colored sections
 */

section, section article {
    position: relative;
	&.grey {
        background-color: rgb(247,247,242);
        h2.location a { color: rgb(247,247,242); }
    }
	&.dirty-yellow {
        background-color: #f8f6ec; } //#f6eed0 #f3eedd
        h2.location a { color: #f8f6ec; }
    &.ruled { @extend %rule; }
}

/**
 * Blog post list
 */

section article {
    border-top: 1px solid $cRule;
	&:first-of-type { border-top: 0; }
}

/**
 * Location tab link
 */

h2.location + h1 { margin-bottom: em(50,30); }



/* Widths
   ========================================================================== */

$content-width: em(960);

%column-margin { margin: 0 auto; }

.cover-column {
    display: table;
	width: 100%;
	height: em(600);
	@extend %column-margin;
	background: #fdfdfd;
	background: rgba(0,0,0,.2);
	background-repeat: no-repeat;
	background-position: center center;
	@include background-size(cover);
    margin-bottom: em(50);
}

.picture-column {
	max-width: $content-width;
	height: auto!important;
	@extend %column-margin;
	margin-top: em(50);
	padding-bottom: em(56);

	h1 { margin: 0; }
}

.text-column {
    max-width: $content-width - em(300);
	@extend %column-margin;
	padding-bottom: em(126);

	@include bp(narrow) { max-width: em(320); }
}

/**
 * Blog spacings & widths
 */

.blog-post {
    @extend .text-column;
	//padding-bottom: em(196);
}

.blog-article {
    .text-column { padding-top: em(100); }
    .picture-column ~ .text-column { padding-top: em(0); }
    p.date { margin-bottom: em(56); }
}

/*
 * Set work project spacings & widths
 */

.work-project {
    .picture-column { margin-top: 0; }
    .text-column { padding-bottom: em(56); }
}




